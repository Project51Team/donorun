{"version":3,"file":"src_main_webapp_app_admin_tracker_tracker_module_ts.js","mappings":"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","sources":["./src/main/webapp/app/admin/tracker/tracker.component.ts","./src/main/webapp/app/admin/tracker/tracker.component.html","./src/main/webapp/app/admin/tracker/tracker.module.ts","./src/main/webapp/app/admin/tracker/tracker.route.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { TrackerService } from 'app/core/tracker/tracker.service';\nimport { TrackerActivity } from 'app/core/tracker/tracker-activity.model';\n\n@Component({\n  selector: 'jhi-tracker',\n  templateUrl: './tracker.component.html',\n})\nexport class TrackerComponent implements OnInit, OnDestroy {\n  activities: TrackerActivity[] = [];\n  subscription?: Subscription;\n\n  constructor(private trackerService: TrackerService) {}\n\n  showActivity(activity: TrackerActivity): void {\n    let existingActivity = false;\n\n    for (let index = 0; index < this.activities.length; index++) {\n      if (this.activities[index].sessionId === activity.sessionId) {\n        existingActivity = true;\n        if (activity.page === 'logout') {\n          this.activities.splice(index, 1);\n        } else {\n          this.activities[index] = activity;\n        }\n      }\n    }\n\n    if (!existingActivity && activity.page !== 'logout') {\n      this.activities.push(activity);\n    }\n  }\n\n  ngOnInit(): void {\n    this.trackerService.subscribe();\n    this.subscription = this.trackerService.receive().subscribe((activity: TrackerActivity) => {\n      this.showActivity(activity);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.trackerService.unsubscribe();\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","<div>\n  <h2 id=\"tracker-page-heading\" jhiTranslate=\"tracker.title\">Real-time user activities</h2>\n\n  <div class=\"table-responsive\">\n    <table class=\"table table-striped\" aria-describedby=\"tracker-page-heading\">\n      <thead>\n        <tr>\n          <th scope=\"col\" jhiTranslate=\"tracker.table.userlogin\">User</th>\n          <th scope=\"col\" jhiTranslate=\"tracker.table.ipaddress\">IP Address</th>\n          <th scope=\"col\" jhiTranslate=\"tracker.table.page\">Current page</th>\n          <th scope=\"col\" jhiTranslate=\"tracker.table.time\">Time</th>\n          <th scope=\"col\"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let activity of activities\">\n          <td>{{ activity.userLogin }}</td>\n          <td>{{ activity.ipAddress }}</td>\n          <td>{{ activity.page }}</td>\n          <td>{{ activity.time | date: 'yyyy-MM-dd HH:mm:ss' }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from 'app/shared/shared.module';\n\nimport { TrackerComponent } from './tracker.component';\nimport { trackerRoute } from './tracker.route';\n\n@NgModule({\n  imports: [SharedModule, RouterModule.forChild([trackerRoute])],\n  declarations: [TrackerComponent],\n})\nexport class TrackerModule {}\n","import { Route } from '@angular/router';\n\nimport { TrackerComponent } from './tracker.component';\n\nexport const trackerRoute: Route = {\n  path: '',\n  component: TrackerComponent,\n  data: {\n    pageTitle: 'tracker.title',\n  },\n};\n"],"names":[],"sourceRoot":"webpack:///"}